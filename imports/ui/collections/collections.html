<template name="collections">
  {{#contentFor "headerTitle"}}
  <h1 class="title">{{_ "collections"}}</h1>
  {{/contentFor}}

  {{#contentFor "headerButtonLeft"}}
  {{>ionNavBackButton}}
  {{/contentFor}}

  {{#contentFor "headerButtonRight"}}

  {{/contentFor}}

  {{#if dataReady}}
  {{#ionView}}
  {{#ionContent}}

  {{> Template.dynamic template="Collections_view" data=scope}}

  {{/ionContent}}
  {{/ionView}}
  {{else}}
{{> loading}}
{{/if}}
</template>

<template name="Collections_search">
  <label class="item item-input">
    <i class="icon ion-search placeholder-icon"></i>
    <input id="search" type="text" placeholder="{{_ "Search..."}}" value="{{search}}">
  </label>
</template>

<template name="Collections_button_bar">
  <div class="button-bar button-positive">
    {{> Button_toggle condition=(equals view 'all') classOff="button button-small button-dark all" classOn="button button-small button-dark all activated" iconOff="icon fa fa-th-list" iconOn="icon fa fa-th-list positive"}}

    {{> Button_toggle condition=(equals view 'citoyens') classOff="button button-small button-person follows" classOn="button button-small button-person follows activated" iconOff="icon fa fa-user" iconOn="icon fa fa-user positive"}}
    {{> Button_toggle condition=(equals view 'organizations') classOff="button button-small button-organization memberof" classOn="button button-small button-organization memberof activated" iconOff="icon fa fa-users" iconOn="icon fa fa-users positive"}}
    {{> Button_toggle condition=(equals view 'projects') classOff="button button-small button-project projects" classOn="button button-small button-project projects activated" iconOff="icon fa fa-lightbulb-o" iconOn="icon fa fa-lightbulb-o positive"}}
    {{> Button_toggle condition=(equals view 'events') classOff="button button-small button-event events" classOn="button button-small button-event events activated" iconOff="icon fa fa-calendar" iconOn="icon fa fa-calendar positive"}}
    {{> Button_toggle condition=(equals view 'poi') classOff="button button-small button-poi poi" classOn="button button-small button-poi poi activated" iconOff="icon fa fa-map-marker" iconOn="icon fa fa-map-marker positive"}}
    {{> Button_toggle condition=(equals view 'Classified') classOff="button button-small button-classified classified" classOn="button button-small button-classified classified activated" iconOff="icon fa fa-bullhorn" iconOn="icon fa fa-bullhorn positive"}}

  </div>
</template>

<template name="Collections_view">
  <div class="list">
  {{> Collections_search}}
  {{> Collections_button_bar}}
  {{#if equals view 'all'}}
  {{> listCollectionsCitoyens}}
  {{> listCollectionsOrganizations}}
  {{> listCollectionsProjects}}
  {{> listCollectionsEvents}}
  {{> listCollectionsPoi}}
  {{> listCollectionsClassified}}
  {{else}}
  {{#if equals view 'citoyens'}}
  {{> listCollectionsCitoyens}}
  {{/if}}
  {{#if equals view 'organizations'}}
  {{> listCollectionsOrganizations}}
  {{/if}}
  {{#if equals view 'projects'}}
  {{> listCollectionsProjects}}
  {{/if}}
  {{#if equals view 'events'}}
  {{> listCollectionsEvents}}
  {{/if}}
  {{#if equals view 'poi'}}
  {{> listCollectionsPoi}}
  {{/if}}
  {{#if equals view 'classified'}}
  {{> listCollectionsClassified}}
  {{/if}}
  {{/if}}
  </div>
</template>


<template name="listCollectionsCitoyens">
  {{#if countCollections 'favorites' 'citoyens' search}}
      <div class="item item-divider">
        <i class="icon fa fa-user"></i> {{_ "citoyens"}} <span class="badge badge-dark">{{countCollections 'favorites' 'citoyens' search}}</span>
      </div>
      {{> Directory_list list=(listCollections 'favorites' 'citoyens' search) isConnect="isFavorites" person=true scope="citoyens"}}
  {{/if}}
</template>

<template name="listCollectionsOrganizations">
  {{#if countCollections 'favorites' 'organizations' search}}
      <div class="item item-divider">
        <i class="icon fa fa-users"></i> {{_ "organizations"}} <span class="badge badge-dark">{{countCollections 'favorites' 'organizations' search}}</span>
      </div>
      {{> Directory_list list=(listCollections 'favorites' 'organizations' search) isConnect="isFavorites" person=false scope="organizations"}}
  {{/if}}
</template>

<template name="listCollectionsProjects">
  {{#if countCollections 'favorites' 'projects' search}}
      <div class="item item-divider">
        <i class="icon fa fa-lightbulb-o"></i> {{_ "projects"}} <span class="badge badge-dark">{{countCollections 'favorites' 'projects' search}}</span>
      </div>
      {{> Directory_list list=(listCollections 'favorites' 'projects' search) isConnect="isFavorites" person=false scope="projects"}}
  {{/if}}
</template>

<template name="listCollectionsEvents">
  {{#if countCollections 'favorites' 'events' search}}
      <div class="item item-divider">
        <i class="icon fa fa-calendar"></i> {{_ "events"}} <span class="badge badge-dark">{{countCollections 'favorites' 'events' search}}</span>
      </div>
      {{> Directory_list list=(listCollections 'favorites' 'events' search) isConnect="isFavorites" person=false scope="events"}}
  {{/if}}
</template>

<template name="listCollectionsPoi">
  {{#if countCollections 'favorites' 'poi' search}}
      <div class="item item-divider">
        <i class="icon fa fa-map-marker"></i> {{_ "poi"}} <span class="badge badge-dark">{{countCollections 'favorites' 'poi' search}}</span>
      </div>
      {{> Directory_list list=(listCollections 'favorites' 'poi' search) isConnect="isFavorites" person=false scope="poi"}}
  {{/if}}
</template>

<template name="listCollectionsClassified">
  {{#if countCollections 'favorites' 'classified' search}}
      <div class="item item-divider">
        <i class="icon fa fa-bullhorn"></i> {{_ "classified"}} <span class="badge badge-dark">{{countCollections 'favorites' 'classified' search}}</span>
      </div>
      {{> Directory_list list=(listCollections 'favorites' 'classified' search) isConnect="isFavorites" person=false scope="classified"}}
  {{/if}}
</template>
